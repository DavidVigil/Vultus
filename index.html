<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vultus - Paint and Relax</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ–Œï¸</text></svg>">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="backgroundContainer">
        <img id="backgroundImage1" class="background-layer active" src="assets/textures/backgroundPaint.jpg" alt="">
        <img id="backgroundImage2" class="background-layer" src="assets/textures/backgroundMove.jpg" alt="">
    </div>
    
    <canvas id="gameCanvas"></canvas>
    
    <div id="ui">
        <div id="maskToggle" title="Cambiar MÃ¡scara">ğŸ­</div>

        <div id="maskSelector">
            <div class="selector-title">Seleccionar MÃ¡scara</div>
            <div class="mask-list" id="maskListContainer"></div>
        </div>

        <div id="paletteToggle" title="Abrir/Cerrar Paleta">ğŸ¨</div>
        
        <div id="colorPalette">
            <div class="color-indicator">Color del Pincel</div>
            <div class="color-picker-wrapper">
                <input type="color" id="colorPicker" value="#ff0000">
            </div>
            <div id="brushSizeControl">
                <label>TamaÃ±o: <span id="brushSizeValue">25</span></label>
                <input type="range" id="brushSizeSlider" min="5" max="80" value="25" step="1">
            </div>
        </div>
    </div>

    <div id="topRightActions">
        <div id="galleryButton" title="Ver GalerÃ­a">ğŸ–¼ï¸ GalerÃ­a</div>
        <div id="saveButton" title="Guardar DiseÃ±o">ğŸ’¾ Guardar</div>
    </div>

    <div id="bottomBar">
        <div class="controls-group left">
            <div id="undoButton" title="Deshacer" class="control-btn disabled">â†¶</div>
            <div id="redoButton" title="Rehacer" class="control-btn disabled">â†·</div>
            <div id="clearButton" title="Limpiar" class="control-btn">ğŸ—‘ï¸</div>
        </div>

        <div id="instructions-container">
            <span class="desktop-text">Clic Izq: Pintar/Rotar | Clic Der: Mover | Espacio: Cambiar Modo</span>
            <span class="mobile-text">1 dedo: Pintar/Rotar | 2 dedos: Mover/Zoom | BotÃ³n ğŸ”„: Cambiar Modo</span>
        </div>

        <div class="controls-group right">
            <div id="mobileModeToggle" title="Cambiar Modo" class="control-btn mobile-only">ğŸ”„</div>
            <div id="lightToggle" title="Luz" class="control-btn">ğŸ’¡</div>
            <div id="musicToggle" title="MÃºsica" class="control-btn">ğŸ”Š</div>
        </div>
    </div>

    <div id="saveModal" class="modal">
        <div class="modal-content">
            <h2>Guardar Obra Maestra</h2>
            <p>Guarda tu diseÃ±o para desbloquear la siguiente mÃ¡scara.</p>
            <input type="text" id="designName" placeholder="Nombre de la obra" maxlength="20">
            <textarea id="designDesc" placeholder="Breve descripciÃ³n..." maxlength="50"></textarea>
            <div class="modal-buttons">
                <button id="cancelSave">Cancelar</button>
                <button id="confirmSave" class="primary-btn">Guardar</button>
            </div>
        </div>
    </div>

    <div id="galleryModal" class="modal">
        <div class="modal-content gallery-content">
            <span class="close-modal" id="closeGallery">&times;</span>
            <h2>GalerÃ­a de DiseÃ±os</h2>
            <div id="galleryGrid" class="gallery-grid"></div>
        </div>
    </div>

    <div id="toast">DiseÃ±o guardado exitosamente</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    <script src="game.js"></script>
</body>
</html>